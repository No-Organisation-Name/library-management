{% extends "dashboard.html" %}
{% block content %}
<div class="container-fluid">
  <div class="card card-primary card-outline card-outline-tabs">
      <div class="card-header p-0 border-bottom-0">
        <ul class="nav nav-tabs" id="custom-tabs-four-tab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="custom-tabs-four-home-tab" data-toggle="pill" href="#custom-tabs-four-home" role="tab" aria-controls="custom-tabs-four-home" aria-selected="true">ACTIVE TRANSACTIONS</a>
          </li>
        </ul>
      </div>
      <div class="card-body ">
        <div class="tab-content" id="custom-tabs-four-tabContent">
          <div class="tab-pane fade show active" id="custom-tabs-four-home" role="tabpanel" aria-labelledby="custom-tabs-four-home-tab">
             <table class="table">
              <thead>
                <th>NO</th>
                <th>Full Name</th>
                <th>LOAN DATE</th>
                <th>DUE DATE</th>
                <th>FINES</th>
                <th></th>
              </thead>
              <tbody>
                {% for t in transaction %}
                  <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{t.user.user.first_name}} {{t.user.user.last_name}}</td>
                    <td>{{t.date_out}}</td>
                    <td>{{t.date_return}}</td>
                    <td>{{t.fine}}</td>
                    <td>
                      <a href="{% url 'transaction_detail_user' t.user.id %}" class="btn btn-primary">Detail</a>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
             </table>
          </div>
        </div>
      </div><!-- /.card -->
      <div class="card-footer clearfix">
        <ul class="pagination pagination-sm m-0 float-right">
          {% if transaction.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{transaction.number|add:'-1'}}">&laquo;</a></li>
          {% else %}
          <li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
          {% endif %}
          {% for i in range %}
            {% if i == transaction.number %}
            <li class="page-item active"><a class="page-link" href="?page={{i}}">
              {{i}}
            </a></li>
            {% else %}
            <li class="page-item"><a class="page-link" href="?page={{i}}">
              {{i}}
            </a></li>
            {% endif %}
          {% endfor %}
          {% if transaction.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{transaction.number|add:'+1'}}">&raquo;</a></li>
          {% else %}
          <li class="page-item disabled"><a class="page-link" href="#">&raquo;</a></li>
          {% endif %}
        </ul>
      </div>

    </div>
</div>
{% endblock content %}